matrix:
  include:
    - language: java
      install: true

      cache:
        directories:
          - "~/.m2/repository"

      matrix:
        fast_finish: true
        include:
          - jdk: openjdk8
            env:
              - DESC="Build all branches on JDK 8"
          - jdk: openjdk9
            env:
              - DESC="Build all branches on JDK 9"
          - jdk: openjdk10
            env:
              - DESC="Build all branches on JDK 10"
          - jdk: openjdk11
            env:
              - DESC="Build all branches on JDK 11"

      before_install:
        - cd java

      script:
        - mvn clean package -P !release --settings cd/mavensettings.xml;

    - language: csharp
      install: true
      solution: AgrirouterApiProtobufDefinitions.sln

      mono: none
      dotnet: 3.0

      before_script:
        - cd dotnet/AgrirouterApiProtobufDefinitions/

      script:
        - dotnet restore
        - dotnet build
