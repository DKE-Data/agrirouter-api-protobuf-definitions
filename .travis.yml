script:
  # JDK 10 / Build and eventually deploy
  - jdk_switcher use oraclejdk10
  - mvn clean package -P !snapshot jdk10 -B
  - "./cd/deploy-jdk10.sh"
  # JDK 9 / Build and eventually deploy
  - jdk_switcher use oraclejdk9
    mvn clean package -P !snapshot jdk9 -B
  - "./cd/deploy-jdk9.sh"
  # JDK 8 / Build and eventually deploy
  - jdk_switcher use oraclejdk8
    mvn clean package -P !snapshot jdk8 -B
  - "./cd/deploy-jdk8.sh"
cache:
  directories:
  - "~/.m2/repository"
before_install:
- chmod +x ./cd/deploy-jdk8.sh
- chmod +x ./cd/deploy-jdk9.sh
- chmod +x ./cd/deploy-jdk10.sh
language: java
jdk:
  - oraclejdk10